<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>从零开始搭建vue项目&amp;&amp;使用vuepress编写文档 | Hello VuePress</title>
    <meta name="description" content="Just playing around">
    
    
    <link rel="preload" href="/vuepress-4/assets/css/0.styles.55a794c7.css" as="style"><link rel="preload" href="/vuepress-4/assets/js/app.8f980b9b.js" as="script"><link rel="preload" href="/vuepress-4/assets/js/2.b6f78624.js" as="script"><link rel="preload" href="/vuepress-4/assets/js/4.5fa274d4.js" as="script"><link rel="prefetch" href="/vuepress-4/assets/js/10.b95be6ca.js"><link rel="prefetch" href="/vuepress-4/assets/js/11.85e8ba75.js"><link rel="prefetch" href="/vuepress-4/assets/js/12.6a6b2ef0.js"><link rel="prefetch" href="/vuepress-4/assets/js/3.ed8a17e2.js"><link rel="prefetch" href="/vuepress-4/assets/js/5.86f1c50b.js"><link rel="prefetch" href="/vuepress-4/assets/js/6.c9ef72b4.js"><link rel="prefetch" href="/vuepress-4/assets/js/7.e51987e2.js"><link rel="prefetch" href="/vuepress-4/assets/js/8.e544fd8f.js"><link rel="prefetch" href="/vuepress-4/assets/js/9.0018174f.js">
    <link rel="stylesheet" href="/vuepress-4/assets/css/0.styles.55a794c7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-4/" class="home-link router-link-active"><!----> <span class="site-name">Hello VuePress</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="从零开始搭建vue项目-使用vuepress编写文档"><a href="#从零开始搭建vue项目-使用vuepress编写文档" aria-hidden="true" class="header-anchor">#</a> 从零开始搭建vue项目&amp;&amp;使用vuepress编写文档</h2> <h3 id="准备工作"><a href="#准备工作" aria-hidden="true" class="header-anchor">#</a> 准备工作</h3> <p>环境依赖：node.js；vue官方脚手架：vue-cli</p> <p>vue-cli安装方法：</p> <p>打开电脑终端：（win+r，输入cmd，回车），敲入命令：npm install --global vue-cli/cnpm install --global vue-cli（在有安装淘宝镜像的前提下）/yarn install --global vue-cli（在安装yarn的前提下），其中--global是全局安装。</p> <h3 id="背景知识"><a href="#背景知识" aria-hidden="true" class="header-anchor">#</a> 背景知识</h3> <p><a href="https://cn.vuejs.org/" target="_blank" rel="noopener noreferrer">vue.js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>核心框架</p> <p><a href="https://webpack.docschina.org/concepts/" target="_blank" rel="noopener noreferrer">webpack<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>模块化打包工具，使用vue-cli初始化项目的时候，选择webpack作为我们的模块化打包工具</p> <p>关于什么是模块化，推荐看下这两篇文章的介绍<a href="https://zhuanlan.zhihu.com/p/22890374" target="_blank" rel="noopener noreferrer">JavaScript模块化入门I：理解模块<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>和<a href="https://zhuanlan.zhihu.com/p/22945985" target="_blank" rel="noopener noreferrer">JavaScript模块化入门II：模块打包构建<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="开始动手"><a href="#开始动手" aria-hidden="true" class="header-anchor">#</a> 开始动手</h3> <p>初始化项目，选择webpack作为打包工具，使用命令 <code>vue init webpack my-project</code> 搭建vue项目, <code>my-project</code>是你的项目名称，然后按照提示写一些配置。</p> <p><img src="/vuepress-4assets/img/demo-1.aa725354.png" alt=""></p> <p>此时项目的大致框架就已经搭建好了，接下来用自己的编辑器打开项目，目录结构大致是这样</p> <p><img src="/vuepress-4assets/img/demo-2.6e3e536f.png" alt=""></p> <p>bulid和config目录：webpack打包生成的；</p> <p>src：编写业务逻辑的地方；</p> <p>package.json文件：是项目的一些配置文件，其中<code>description</code>是刚才创建项目时写的描述，<code>dependencies</code>和<code>devDependencies</code>是项目所依赖的包，项目运行前需要先执行npm install/cnpm install/yarn install来安装依赖包。</p> <p>npm允许在<code>package.json</code>文件里面，使用<code>scripts</code>字段定义脚本命令。其中dev和start都是启动本地开发环境的；lint是做语法校验的，build是打包最终线上代码的。</p> <h3 id="运行项目"><a href="#运行项目" aria-hidden="true" class="header-anchor">#</a> 运行项目</h3> <p>打开命令行工具，在当前目录下执行<code>npm run dev</code>命令，本地启动项目。</p> <h2 id="vuepress的使用"><a href="#vuepress的使用" aria-hidden="true" class="header-anchor">#</a> vuepress的使用</h2> <p><code>vuepress</code>是什么？点击<a href="https://vuepress.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">这里<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>可以去官方文档瞧一瞧。</p> <h3 id="如何使用"><a href="#如何使用" aria-hidden="true" class="header-anchor">#</a> 如何使用</h3> <p>注意：请确保你的Node.js &gt;= 8。</p> <h4 id="全局安装"><a href="#全局安装" aria-hidden="true" class="header-anchor">#</a> 全局安装</h4> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 安装</span>
<span class="token function">yarn</span> global <span class="token function">add</span> vuepress <span class="token comment"># 或者：npm install -g vuepress</span>

<span class="token comment"># 新建一个 markdown 文件</span>
<span class="token builtin class-name">echo</span> <span class="token string">'# Hello VuePress!'</span> <span class="token operator">&gt;</span> README.md

<span class="token comment"># 开始写作</span>
vuepress dev <span class="token builtin class-name">.</span>

<span class="token comment"># 构建静态文件</span>
vuepress build <span class="token builtin class-name">.</span>

</code></pre></div><h4 id="现有项目"><a href="#现有项目" aria-hidden="true" class="header-anchor">#</a> 现有项目</h4> <p>如果你想要在现有项目中使用vuePress，同时想要在该项目中管理文档，则应该将vuePress安装为本地依赖。</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 将vuePress作为本地依赖安装</span>
<span class="token function">yarn</span> <span class="token function">add</span> -D vuepress <span class="token comment"># 或者：npm install -D vuepress</span>

<span class="token comment"># 新建一个 docs 文件</span>
<span class="token function">mkdir</span> docs

<span class="token comment"># 新建一个 markdown 文件</span>
<span class="token builtin class-name">echo</span> <span class="token string">'# Hello VuePress!'</span> <span class="token operator">&gt;</span> docs/README.md

<span class="token comment"># 开始写作</span>
npx vuepress dev docs

</code></pre></div><p>接下来在package.json中加入下面这些脚本</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;docs:dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vuepress dev docs&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;docs:build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vuepress build docs&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>所以，执行vuePress文档的时候就可以直接使用<code>npm run docs:dev</code>命令，要生成静态的HTML文件则使用<code>npm run docs:build</code>命令。</p> <p>默认情况下生成的静态的HTML文件会被放在<code>.vuepress/dist</code>，当然，可以通过修改<code>.vuepress/config.js</code>中的<code>dest</code>字段来修改，生成的文件可以部署到任意的静态文件服务器上。</p> <h4 id="启动项目"><a href="#启动项目" aria-hidden="true" class="header-anchor">#</a> 启动项目</h4> <p>执行命令<code>npm run docs:dev</code>，终端会有<code>http://localhost:8080/</code>这条路径，因为在config.js中字段<code>base</code>字段默认就是<code>&quot;/&quot;</code>，会执行README.md文件。</p> <p>到这里已经完成vuePress最基本的操作了，如果想让自己写的文档部署到github上那就进行下面的部署操作。</p> <h4 id="部署"><a href="#部署" aria-hidden="true" class="header-anchor">#</a> 部署</h4> <p>前提条件：</p> <p>文档放置在项目的 docs 目录中；</p> <p>使用的是默认的构建输出位置；</p> <p>VuePress 以本地依赖的形式被安装到你的项目中，并且配置了如下的 npm scripts:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;docs:build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vuepress build docs&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如果你之前全局安装的vuepress，那么就执行<code>npm uninstall vuepress</code>或者<code>cnpm uninstall vuepress</code>（有淘宝镜像的前提下）先卸载掉，然后再以本地依赖的形式被安装到你的项目中。</p> <h4 id="github-相关配置"><a href="#github-相关配置" aria-hidden="true" class="header-anchor">#</a> GitHub 相关配置</h4> <p>在 <code>docs/.vuepress/config.js</code> 中设置正确的 <code>base</code>。如果你打算发布到 <code>https://&lt;USERNAME&gt;.github.io/</code>，则可以省略这一步，因为 <code>base</code> 默认即是 <code>&quot;/&quot;</code>。</p> <p>如果你打算发布到 <code>https://&lt;USERNAME&gt;.github.io/&lt;REPO&gt;/</code>（也就是说你的仓库在 <code>https://github.com/&lt;USERNAME&gt;/&lt;REPO&gt;</code>），则将 <code>base</code> 设置为 <code>&quot;/&lt;REPO&gt;/&quot;</code>，记住一定要以<code>&quot;/&quot;</code>开头，<code>&quot;/&quot;</code>结尾。</p> <p>在你的项目中，创建一个如下的 deploy.sh 文件</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token shebang important">#!/usr/bin/env sh</span>

<span class="token comment"># 确保脚本抛出遇到的错误</span>
<span class="token builtin class-name">set</span> -e

<span class="token comment"># 生成静态文件</span>
<span class="token function">npm</span> run docs:build

<span class="token comment"># 进入生成的文件夹</span>
<span class="token builtin class-name">cd</span> docs/.vuepress/dist

<span class="token comment"># 如果是发布到自定义域名</span>
<span class="token comment"># echo 'www.example.com' &gt; CNAME</span>

<span class="token function">git</span> init
<span class="token function">git</span> <span class="token function">add</span> -A
<span class="token function">git</span> commit -m <span class="token string">'deploy'</span>

<span class="token comment"># 如果发布到 https://&lt;USERNAME&gt;.github.io</span>
<span class="token comment"># git push -f git@github.com:&lt;USERNAME&gt;/&lt;USERNAME&gt;.github.io.git master</span>

<span class="token comment"># 如果发布到 https://&lt;USERNAME&gt;.github.io/&lt;REPO&gt;</span>
<span class="token comment"># git push -f git@github.com:&lt;USERNAME&gt;/&lt;REPO&gt;.git master:gh-pages</span>

<span class="token builtin class-name">cd</span> -
</code></pre></div><p>配上一张自己config.js的相关配置，比较简单，仅供参考。</p> <p><img src="/vuepress-4assets/img/demo-5.9ddfd9b2.png" alt=""></p> <h4 id="上传步骤"><a href="#上传步骤" aria-hidden="true" class="header-anchor">#</a> 上传步骤</h4> <p>1、执行<code>npm run docs:dev</code>命令，本地打包生成dist文件；</p> <p>2、进入到<code>.vuepress/dist</code>文件夹下，执行上面的<code>deploy.sh</code>文件中的操作到<code>git commit -m deploy</code>的步骤；</p> <p>3、连接本地远程仓库地址（首先你要建好自己的仓库），执行命令<code>git remote add origin xxx.git</code></p> <p>4、可以执行<code>git remote -v</code>查看是否连接成功；</p> <p>5、执行<code>git push origin master</code>，将代码push到自己本地的远程仓库；</p> <p>6、刷新自己github页面，此时不出意外的情况下代码已经上传成功；</p> <p>7、接下来进入到自己仓库的设置页面，找到<code>GitHub Pages</code>中的<code>Source</code>，点击下拉框设置为<code>master branch</code>分支；</p> <p><img src="/vuepress-4assets/img/demo-3.3a7bbd6a.png" alt=""> <img src="/vuepress-4assets/img/demo-4.ee8a8510.png" alt=""></p> <p>8、此时会出现一个地址，如图上面的绿色部分，打开这个地址等候10秒钟左右就会出现页面了，然后写上你自己文档的正确地址就基本成功了（https://xiayin-elfin.github.io/vuepress-4/blog/demo1.html）</p> <h4 id="遇到的问题"><a href="#遇到的问题" aria-hidden="true" class="header-anchor">#</a> 遇到的问题</h4> <p>1、按照官方文档的操作，执行<code>git push -f git@github.com:&lt;USERNAME&gt;/&lt;REPO&gt;.git master:gh-pages</code>，会出现连接不到自己本地的远程仓库地址，那就干脆不用这个命令了，执行上述步骤（3）就可以了；</p> <p>2、执行到第8步，发现页面404，或者页面出来了但是样式404，一般情况下就是打包后的路径问题了，那就重新打一次包执行<code>npm run docs:build</code>命令，将生成dist文件夹下的文件替换到<code>.vuepress/dist</code>文件夹下，再提交一次。</p> <h4 id="推荐"><a href="#推荐" aria-hidden="true" class="header-anchor">#</a> 推荐</h4> <p>前提：你用的编辑器是vscode，其他的编辑器自己找吧。</p> <p>在vuepress安装成功之后，编写markdown文档的时候，可以安装<code>Markdown Preview Enhanced</code>插件，可以方便你一边编写一遍查看效果，很方便。</p> <p>具体的使用方式在你安装插件的时候里面就有介绍，详情自己看看吧。</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/vuepress-4/assets/js/app.8f980b9b.js" defer></script><script src="/vuepress-4/assets/js/2.b6f78624.js" defer></script><script src="/vuepress-4/assets/js/4.5fa274d4.js" defer></script>
  </body>
</html>
